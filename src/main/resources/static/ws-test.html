<!-- ws-test.html -->
<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><title>WebSocket Test</title></head>
<body>
<input id="msg" type="text" placeholder="Message">
<button onclick="sendMsg()">Send</button>
<ul id="log"></ul>

<script>
    const socket = new WebSocket("ws://10.178.0.9:8080/ws/chat?roomId=testRoom&userId=yunuo");

    socket.onopen = () => log("âœ… Connected");
    socket.onmessage = (event) => log("ðŸ“© " + event.data);
    socket.onerror = (err) => log("âŒ Error: " + err);
    socket.onclose = () => log("ðŸ”Œ Closed");

    function sendMsg() {
        const msg = document.getElementById("msg").value;
        socket.send(msg);
        log("ðŸ“¤ " + msg);
    }

    function log(message) {
        const li = document.createElement("li");
        li.textContent = message;
        document.getElementById("log").appendChild(li);
    }
</script>
</body>
</html>
